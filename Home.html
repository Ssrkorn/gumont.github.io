<!doctype html>
<html lang="th">
<head>
<head>
<meta charset="utf-8">
<title>Gumont Restaurant</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-SgOJa3DmI69IUzQ2PVdRZhwQ+dy64/BUtbMJw1MZ8t5HZApcHrRKUc4W0kG879m7" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/js/bootstrap.bundle.min.js" integrity="sha384-k6d4wzSIapyDyv1kpU366/PK5hCdSbCRGRCMv+eplOQJWyd1fbcAu9OCUj5zNLiq" crossorigin="anonymous"></script>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Noto+Serif+Thai:wght@100..900&family=Pridi:wght@200;300;400;500;600;700&display=swap" rel="stylesheet">
	<style>
		.menu-img {
			width: 100% ;
			height: 200px ;
			object-fit: cover ;
			border-radius: 10px ;
		}
</style>
</head>

<body style="font-family: Noto Serif Thai">
<nav class="navbar navbar-expand-lg">
  <div class="container-fluid"> <a class="navbar-brand" href="#">Gumont Restaurant</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarText" aria-controls="navbarText" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button>
    <div class="collapse navbar-collapse" id="navbarText">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
		  
        <li class="nav-item"> <a class="nav-link active" aria-current="page" href="Home.html">Home</a> </li>
        <li class="nav-item"> <a class="nav-link" href="MainDishs.html">Main Dishs</a> </li>
        <li class="nav-item"> <a class="nav-link" href="Desserts.html">Desserts</a> </li>
        <li class="nav-item"> <a class="nav-link" href="Beverages.html">Beverages</a> </li>
		<li class="nav-item"> <a class="nav-link" href="index.html">Logout</a> </li>
      </ul>
    </div>
  </div>
</nav>
<div class="container"> <br>
  <h2 align="center">Promotions</h2>
  <br>
  <div class="row">
    <div class="col-12">
      <div id="carouselExampleCaptions" class="carousel slide">
        <div class="carousel-indicators">
          <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
          <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="1" aria-label="Slide 2"></button>
          <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="2" aria-label="Slide 3"></button>
          <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="3" aria-label="Slide 4"></button>
        </div>
        <div class="carousel-inner">
          <div class="carousel-item active"> <img src="https://www.mkrestaurant.com/public/uploads/promotion/images/91ee69a71e9e1f260055ecb4475e1e14.jpg" class="d-block w-100 " alt="..."> </div>
          <div class="carousel-item"> <img src="https://www.mkrestaurant.com/public/uploads/promotion/images/8ad023a5566e9725b6a0836a53abff54.jpg" class="d-block w-100" alt="..."> </div>
          <div class="carousel-item"> <img src="https://file.aimcontent.co/BrandAge/images/content/F72509D-FB5E21C-B899E0F.jpg" class="d-block w-100" alt="..."> </div>
          <div class="carousel-item"> <img src="https://www.mkrestaurant.com/public/uploads/promotion/images/c4ff60faf2cd96bf471c4ec91384b530.jpg" class="d-block w-100" alt="..."> </div>
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="prev"> <span class="carousel-control-prev-icon" aria-hidden="true"></span> <span class="visually-hidden">Previous</span> </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="next"> <span class="carousel-control-next-icon" aria-hidden="true"></span> <span class="visually-hidden">Next</span> </button>
      </div>
    </div>
  </div>
</div>
</div>
<br>
<br>
<br>
<div class="container text-center">
	<h2>Recommended</h2>
	<br>
  <div class="row">
    <div class="col-12 col-lg-3 col-md-6"> 
		<img src="https://d3dyak49qszsk5.cloudfront.net/108258647_l_65bac75a44.jpg" class="menu-img">
      <p></p>
      <h2>ราเมง</h2>
      <p>"น้ำซุปกระดูกหมูเข้มข้นเสิร์ฟพร้อมหมูชาชูเเละไข่ต้ม"</p>
	  <h5>ราคา:129</h5>
      <div class="input-group mb-3 justify-content-center" style="max-width: 200px; margin: auto;">
        <input type="number" class="form-control qty text-center" data-id="ramen001" data-name="ราเมง" data-price="129" value="1" min="1">
        <button class="btn btn-primary add-to-cart">สั่งอาหาร</button>
      </div>
    </div>
	  
	  
    <div class="col-12 col-lg-3 col-md-6"> <img src="https://img.wongnai.com/p/1920x0/2021/09/11/c36db62b2e7145f9814bdadcedc60240.jpg" class="menu-img">
      <p></p>
      <h2>ทงคัตสึ</h2>
      <p>"หมูสันนอกชุบแป้งทอดกรอบนอกนุ่มใน ราดซอสทงคัตสึ"</p>
		<h5>ราคา:149</h5>
      <div class="input-group mb-3 justify-content-center" style="max-width: 200px; margin: auto;">
        <input type="number" class="form-control qty text-center" data-id="tonkatsu001" data-name="ทงคัตสึ" data-price="149" value="1" min="1">
        <button class="btn btn-primary add-to-cart">สั่งอาหาร</button>
      </div>
    </div>
	  
	  
    <div class="col-12 col-lg-3 col-md-6"> <img src="https://www.lib.kmutt.ac.th/wp-content/uploads/2022/09/shutterstock_1711574581-1-1024x684.jpg" class="menu-img">
      <p></p>
      <h2>ดังโงะ</h2>
      <p>"ลูกชิ้นแป้งข้าวเหนียวย่างหอม ราดซอสมิตาราชิหวานเค็ม"</p>
		<h5>ราคา:79</h5>
      <div class="input-group mb-3 justify-content-center" style="max-width: 200px; margin: auto;">
        <input type="number" class="form-control qty text-center" data-id="dango001" data-name="ดังโงะ" data-price="79" value="1" min="1">
        <button class="btn btn-primary  add-to-cart">สั่งอาหาร</button>
      </div>
    </div>
	  
	  
	<div class="col-12 col-lg-3 col-md-6"> <img src="https://content.fun-japan.jp/renewal-prod/cms/articles/content/e4c9c1e60d4d1243b8b75e0fba48fb08f8219aef.jpg" class="menu-img">
      <p></p>
      <h2>เซ็ทซาซิมิ</h2>
      <p>"สุดยอดความสดใหม่จากท้องทะเล กับซาชิมิหลากหลายชนิด"</p>
		<h5>ราคา:259</h5>
      <div class="input-group mb-3 justify-content-center" style="max-width: 200px; margin: auto;">
        <input type="number" class="form-control qty text-center" data-id="sashimiset001" data-name="เซ็ทซาซิมิ" data-price="259" value="1" min="1">
        <button class="btn btn-primary  add-to-cart">สั่งอาหาร</button>
      </div>
    </div>
  </div>
</div>
</div>








<footer class="bg-dark text-white text-center py-4 mt-5">
  <div class="container">
    <h5>เกี่ยวกับเรา</h5>
    <p class="mb-1">Gumont Restaurant ให้บริการอาหารนานาชาติเเบบต้นตำรับ สดใหม่ทุกวัน</p>
    <p class="mb-0">เปิดบริการทุกวัน เวลา 10:00 - 22:00 น. | โทร: 012-345-6789</p>
    <p class="mt-2" style="font-size: 14px;">© 2025 Gumont Restaurant. All rights reserved.</p>
  </div>
</footer>


<!-- Bootstrap Icons -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">

<!-- ปุ่มตะกร้า -->
<button id="cart-button" class="btn btn-primary rounded-circle position-fixed bottom-0 end-0 m-4 d-flex justify-content-center align-items-center position-relative shadow" style="width: 60px; height: 60px;">
  <i class="bi bi-cart-fill" style="font-size: 1.5rem; color: white;"></i>
  <span id="cart-count" class="badge bg-light text-dark position-absolute top-0 start-100 translate-middle rounded-pill">0</span>
</button>

  <!-- Pop-up ตะกร้าสินค้า -->
<div id="cart-popup" class="position-fixed bottom-0 end-0 m-4 p-3 bg-white border rounded shadow" style="width: 300px; display: none; z-index: 1050;">
  <h5>ตะกร้าของคุณ</h5>
  <ul id="cart-items" class="list-group mb-2"></ul>
  <div class="text-end fw-bold mb-2">รวม: <span id="cart-total">0</span> บาท</div>
  <button id="checkout-button" class="btn btn-primary w-100">ชำระเงิน</button>
</div>



<!-- jQuery CDN -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<script>
	
  // เมื่อคลิกปุ่ม Log Out
  $('#logout-button').on('click', function () {
    // ลบข้อมูลการเข้าสู่ระบบจาก localStorage
    localStorage.removeItem('user');
    // ไปหน้า Login
    window.location.href = 'login.html';
  });

	// ฟังก์ชันการอัพเดตตะกร้า
function updateCartPopup() {
  let cart = JSON.parse(localStorage.getItem('cart')) || [];
  let $list = $('#cart-items');
  $list.empty();

  let total = 0;
  cart.forEach(item => {
    let subtotal = item.price * item.quantity;
    total += subtotal;
    $list.append(`
      <li class="list-group-item d-flex justify-content-between align-items-center">
        ${item.name} × 
        <button class="btn btn-sm btn-outline-secondary change-qty" data-id="${item.id}" data-action="decrease">-</button>
        <span>${item.quantity}</span>
        <button class="btn btn-sm btn-outline-secondary change-qty" data-id="${item.id}" data-action="increase">+</button>
        <span>${subtotal}฿</span>
        <button class="btn btn-sm btn-danger delete-item" data-id="${item.id}">ลบ</button>
      </li>
    `);
  });

  $('#cart-total').text(total);
}

// ฟังก์ชันการเพิ่มหรือลดจำนวนสินค้า
$(document).on('click', '.change-qty', function() {
  let action = $(this).data('action');
  let id = $(this).data('id');
  let cart = JSON.parse(localStorage.getItem('cart')) || [];
  let item = cart.find(item => item.id === id);

  if (action === 'increase') {
    item.quantity++;
  } else if (action === 'decrease' && item.quantity > 1) {
    item.quantity--;
  }

  localStorage.setItem('cart', JSON.stringify(cart));
  updateCartCount();
  updateCartPopup();
});

// ฟังก์ชันการลบสินค้าจากตะกร้า
$(document).on('click', '.delete-item', function() {
  let id = $(this).data('id');
  let cart = JSON.parse(localStorage.getItem('cart')) || [];
  cart = cart.filter(item => item.id !== id);

  localStorage.setItem('cart', JSON.stringify(cart));
  updateCartCount();
  updateCartPopup();
});

	$('#checkout-button').on('click', function () {
  let cart = JSON.parse(localStorage.getItem('cart')) || [];
  if (cart.length === 0) {
    alert('กรุณาเลือกสินค้าในตะกร้าก่อนชำระเงิน');
    return;
  }

  // ไปหน้า checkout.html
  window.location.href = 'checkout.html';
});

	
  function updateCartCount() {
    let cart = JSON.parse(localStorage.getItem('cart')) || [];
    let totalQty = cart.reduce((sum, item) => sum + item.quantity, 0);
    $('#cart-count').text(totalQty);
  }

  function updateCartPopup() {
    let cart = JSON.parse(localStorage.getItem('cart')) || [];
    let $list = $('#cart-items');
    $list.empty();

    let total = 0;
    cart.forEach(item => {
      let subtotal = item.price * item.quantity;
      total += subtotal;
      $list.append(`
        <li class="list-group-item d-flex justify-content-between align-items-center">
          ${item.name} × ${item.quantity}
          <span>${subtotal}฿</span>
        </li>
      `);
    });

    $('#cart-total').text(total);
  }

  $(document).ready(function () {
    updateCartCount();

    $('.add-to-cart').on('click', function () {
      let input = $(this).siblings('.qty');
      let id = input.data('id');
      let name = input.data('name');
      let price = parseFloat(input.data('price'));
      let qty = parseInt(input.val());

      let cart = JSON.parse(localStorage.getItem('cart')) || [];
      let existing = cart.find(item => item.id === id);

      if (existing) {
        existing.quantity += qty;
      } else {
        cart.push({ id, name, price, quantity: qty });
      }

      localStorage.setItem('cart', JSON.stringify(cart));
      updateCartCount();
      updateCartPopup();
      alert('เพิ่ม ' + name + ' จำนวน ' + qty + ' ชิ้น ลงตะกร้าแล้ว');
    });

    $('#cart-button').on('click', function () {
      $('#cart-popup').fadeToggle();
      updateCartPopup();
    });

    // ปิด popup ถ้าคลิกข้างนอก
    $(document).on('click', function (e) {
      if (!$(e.target).closest('#cart-button, #cart-popup').length) {
        $('#cart-popup').fadeOut();
      }
    });
  });
</script>

</body>
</html>
